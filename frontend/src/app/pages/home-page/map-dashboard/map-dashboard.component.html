<div class="dashboard-container">
  <app-map [vendorLocations]="vendorLocations" [userLocation]="userLocation" (storeSelected)="onPinClick($event)">
  </app-map>

  <app-header></app-header>

  <!-- Sidebar for Desktop/Tablet -->
  <div class="sidebar-container">
    <!-- Normal main sheet -->
    <app-main-sheet-content *ngIf="!showStoreDetails" (vendorCardClick)="onVendorCardClick($event)">
    </app-main-sheet-content>

    <!-- Store details when card clicked -->
    <app-store-details *ngIf="showStoreDetails && selectedStore" [store]="selectedStore" (close)="onCloseStoreDetails()"
      (guideMe)="onGuideMe($event)">
    </app-store-details>
  </div>

  <!-- Bottom Sheet for Mobile -->
  <app-bottom-sheet (heightChange)="onBottomSheetHeightChange($event)">
    <!-- Normal main sheet -->
    <app-main-sheet-content *ngIf="!showStoreDetails" (vendorCardClick)="onVendorCardClick($event)">
    </app-main-sheet-content>

    <!-- Store details when card clicked -->
    <app-store-details *ngIf="showStoreDetails && selectedStore" [store]="selectedStore" (close)="onCloseStoreDetails()"
      (guideMe)="onGuideMe($event)">
    </app-store-details>
  </app-bottom-sheet>
</div>